{"Id":29,"Title":"ubuntu安装subversion服务（简单版）","Slug":"ubuntu-svn-install","Text":"一.准备\n\n    sudo apt-get install subversion\n    sudo apt-get install subversion-tools\n\n二.创建仓库的目录\n\n    cd /opt\n    mkdir svn\n    svnadmin create svn/xxx_code\n\n三.配置\n\n    cd svn/xxx_code/conf\n1、vim svnserve.conf\n\n内容如下：\n\n    [general]\n    anon-access = none\n    auth-access = write\n    password-db = passwd\n    authz-db = authz\n    realm = xxx_code\n\n2、 vim passwd\n\n内容如下：\n\n    [users]\n    user_name = password123456\n\n3、vim authz\n\n内容如下：\n\n    [aliases]\n    # joe = /C=XZ/ST=Dessert/L=Snake City/O=Snake Oil, Ltd./OU=Research Institute/CN=Joe Average\n    [groups]\n    admin = user_name\n    [xxx_code:/]\n    @admin = rw\n\n四.启动服务\n\n    svnserve -d -r /opt/svn\n\n五.其他方面\n编写post-commit脚本：\n\n    #!/bin/sh\n    export LANG=en_US.UTF-8\n    PATH=/usr/bin\n    SVN=$PATH/svn\n    SVN_LOGIN_INFO=\"--username user_name --password password123456\"\n    #SVN_LOG=/var/log/svn/${DATE}-svn.log\n    SVN_SRC=/opt/src/esut/\n    WEB_SRC=/opt/www-data/esut/\n    RSYNC=/$PATH/rsync\n     \n    # svn update\n    ${SVN} update ${SVN_LOGIN_INFO} ${SVN_SRC}\n     \n    # rsync to web from src\n    ${RSYNC} -aH --delete --progress --exclude=\".svn/\" ${SVN_SRC} ${WEB_SRC}","Tags":["ubuntu"],"CreateTime":1416019141,"EditTime":1416019141,"UpdateTime":1416019141,"IsComment":true,"IsLinked":false,"AuthorId":5,"Template":"blog.html","Type":"article","Status":"publish","Format":"markdown","Comments":[],"Hits":1}